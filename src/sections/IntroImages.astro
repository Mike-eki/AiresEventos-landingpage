<section class="intro-images">
    <figure>
        <img class="logo" src="images/logo-as-black.png" alt="Logo de Aires Eventos">
    </figure>
    <picture>
        <img class="img-1" src="images/intro-images-1.webp" alt="Foto de decoración del salon">
        <img class="img-2" src="images/intro-images-2.webp" alt="Foto de decoración del salon">
        <img class="img-3" src="images/intro-images-3.webp" alt="Foto de decoración del salon">
        <img class="img-4" src="images/intro-images-4.webp" alt="Foto de decoración del salon">
    </picture>
</section>


<style>
    section {
        position: relative;

        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
        background-color: var(--light-beige);

        width: 100%;
    }

    figure {
        margin: 0;
        padding: 0;


        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
    }
    .logo {
        display: block;
        max-width: 100%;
        height: auto;
        object-fit: cover;

        --min-font-size: 5rem;
        --max-font-size: 7rem;
        --min-viewport: 375px;
        --max-viewport: 1400px;

        max-width: calc(
            var(--min-font-size) + 
            (var(--max-font-size) - var(--min-font-size)) * 
            ((100vw - var(--min-viewport)) / (var(--max-viewport) - var(--min-viewport)))
        );
    }

    picture {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
    }
    img:not(.logo) {
        /* position: absolute; */

        display: block;
        max-width: 100%;
        aspect-ratio: 16/9;
        height: auto;
        object-fit: cover;
    }
    .img-1 {
        --min-font-size: 9rem;
        --max-font-size: 20rem;
        --min-viewport: 375px;
        --max-viewport: 1400px;

        border-bottom-right-radius: calc(
            var(--min-font-size) + 
            (var(--max-font-size) - var(--min-font-size)) * 
            ((100vw - var(--min-viewport)) / (var(--max-viewport) - var(--min-viewport)))
        );

        min-height: 40vh;
    }
    .img-2 {
        --min-font-size: 9rem;
        --max-font-size: 20rem;
        --min-viewport: 375px;
        --max-viewport: 1400px;

        border-bottom-left-radius: calc(
            var(--min-font-size) + 
            (var(--max-font-size) - var(--min-font-size)) * 
            ((100vw - var(--min-viewport)) / (var(--max-viewport) - var(--min-viewport)))
        );

        min-height: 40vh;
    }
    .img-3 {
        --min-font-size: 9rem;
        --max-font-size: 20rem;
        --min-viewport: 375px;
        --max-viewport: 1400px;

        border-top-right-radius: calc(
            var(--min-font-size) + 
            (var(--max-font-size) - var(--min-font-size)) * 
            ((100vw - var(--min-viewport)) / (var(--max-viewport) - var(--min-viewport)))
        );

        min-height: 40vh;
    }
    .img-4 {

        --min-font-size: 9rem;
        --max-font-size: 20rem;
        --min-viewport: 375px;
        --max-viewport: 1400px;

        border-top-left-radius: calc(
            var(--min-font-size) + 
            (var(--max-font-size) - var(--min-font-size)) * 
            ((100vw - var(--min-viewport)) / (var(--max-viewport) - var(--min-viewport)))
        );


        min-height: 40vh;
    }

</style>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';
  
  gsap.registerPlugin(ScrollTrigger);
  
  // Animaciones cuando la sección entra en vista
  document.addEventListener('DOMContentLoaded', () => {
    // Animar el logo
    gsap.from('.intro-images .logo', {
      scrollTrigger: {
        trigger: '.intro-images',
        start: 'top 80%', // Ajustable a 'top bottom' si se activa demasiado pronto/tarde
        // markers: true, // Descomentar para depuración visual
      },
      opacity: 0,
      scale: 1.1,
      duration: 1.2,
      ease: 'power3.out'
    });
    
    // Animar las imágenes con stagger para efecto secuencial
    gsap.from(['.intro-images .img-1', '.intro-images .img-2', '.intro-images .img-3', '.intro-images .img-4'], {
      scrollTrigger: {
        trigger: '.intro-images',
        start: 'top 80%',
        // markers: true,
      },
      opacity: 0,
      y: 50, // Cambié a y para un efecto de "subir" uniforme, pero puedes restaurar x para laterales
      duration: 1,
      stagger: 0.2, // Retraso secuencial entre imágenes
      ease: 'power3.out'
    });

    ScrollTrigger.refresh(); // Refresca triggers después de carga
  });
</script>